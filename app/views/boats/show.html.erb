<div class="container">
  <h1><%= @boat.name %></h1>
  <p><strong>Description:</strong> <%= @boat.description %> </p>
  <p><strong>Located in: </strong><%= @boat.address.capitalize %> (<%= @boat.country %>)</p>
  <div
  id="map"
  style="width: 100%;
  height: 300px;"
  data-markers="<%= @markers.to_json %>"
  data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
  ></div>
  <p><strong>Capacity: </strong><%= @boat.capacity %> people</p>
  <p><strong>Price per day:</strong> <%= @boat.price_per_day %> euros </p>
  <p><strong>Have a look: </strong></p><br>
  <% @boat.photos.each do |photo|  %>
  	<%= cl_image_tag photo.photo_url.url(:show) %>
  <% end %>
  <div id="reviews">
    <% if @boat.reviews.blank? %>
     <p>Be the first to leave a review for <%= @boat.name %></p> 
    <% else %>
     <% @boat.reviews.each do |review| %>
    <p>Written by: <%= review.user.first_name %><%= review.content %>With a score of <%= review.rating %></p> 
    <% end %>
  <% end %>
  </div>
  <p> <%= link_to "Check profile", profile_path(@boat.user.profile.slug) %> </p>
  <p> <%= link_to "Add a picture", new_boat_photo_path(@boat) %> </p>
  <p> <%= link_to "Book this boat", new_boat_booking_path(@boat) %> </p>
  <p> <%= link_to "Back to the boats", boats_path %> </p>
  <p> <%= link_to "Write a review", new_boat_review_path(@boat) %> </p>
  <% if @boat.user == current_user %>
    <p> <%= link_to "Add a picture", new_boat_photo_path(@boat) %></p>
    <p><%= link_to "Remove this boat", boat_path(@boat), method: :delete %></p>
  <% end %>
</div>


<!-- Container for the image gallery -->
<div class="slide-container">

  <!-- Full-width images with number text -->
  <div class="mySlides">
    <div class="numbertext">1 / 6</div>
      <%= image_tag('batman boat.jpg', style:"width:100%") %>
  </div>
  <div class="mySlides">
    <div class="numbertext">2 / 6</div>
      <%= image_tag('batman boat.jpg', style:"width:100%") %>
  </div>
  <div class="mySlides">
    <div class="numbertext">3 / 6</div>
      <%= image_tag('batman boat.jpg', style:"width:100%") %>
  </div>


  <!-- Next and previous buttons -->
  <a class="prev" >&#10094;</a>
  <a class="next">&#10095;</a>
  <div id="slide_on" data-slide="0" ></div>
  <!-- Image text -->
  <div class="caption-container">
    <p id="caption"></p>
  </div>

  <!-- Thumbnail images -->
  <div class="row">
    <div class="column">
      <%= image_tag('batman boat.jpg', class: "demo cursor", style: "width:100%", onclick: "currentSlide(1)", alt: "The Woods") %>
    </div>
    <div class="column">
      <%= image_tag('batman boat.jpg', class: "demo cursor", style: "width:100%", onclick: "currentSlide(2)", alt: "The Woods") %>
    </div>
    <div class="column">
      <%= image_tag('batman boat.jpg', class: "demo cursor", style: "width:100%", onclick: "currentSlide(3)", alt: "The Woods") %>
    </div>


  </div>
</div>
<script>
// var slideIndex = 1;
// showSlides(slideIndex);

// function plusSlides(n) {
//   showSlides(slideIndex += n);
// }

// function currentSlide(n) {
//   showSlides(slideIndex = n);
// }

// function showSlides(n) {
//   var i;
//   var slides = document.getElementsByClassName("mySlides");
//   var dots = document.getElementsByClassName("demo");
//   var captionText = document.getElementById("caption");
//   if (n > slides.length) {slideIndex = 1}
//   if (n < 1) {slideIndex = slides.length}
//   for (i = 0; i < slides.length; i++) {
//       slides[i].style.display = "none";
//   }
//   for (i = 0; i < dots.length; i++) {
//       dots[i].className = dots[i].className.replace(" active", "");
//   }
//   slides[slideIndex-1].style.display = "block";
//   dots[slideIndex-1].className += " active";
//   captionText.innerHTML = dots[slideIndex-1].alt;
// }
</script>
